<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            margin: 0;
        }
        canvas{

        }
    </style>
</head>
<body onload="init()">
    <script src="https://cdn.bootcdn.net/ajax/libs/three.js/r126/three.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/stats.js/r9/Stats.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/dat-gui/0.7.7/dat.gui.min.js"></script>
    <script>
        var stats = new Stats()
        console.log(stats);
        document.body.appendChild(stats.getDomElement())

        var renderer, camera, scene, geometry, material, mesh;
        // 初始化渲染器
        function initRenderer() {
            renderer=new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight)
            document.body.appendChild(renderer.domElement);
        }
        // 初始化场景
        function initScene() {
            scene = new THREE.Scene()
        }
        // 初始化相机
        function initCamera() {
            camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 0.1, 200)
            camera.position.set(4, 4, 15)
        }
        // 初始化物体
        function initMesh() {
            // geometry = new THREE.BoxGeometry( 2, 2, 2 )//创建几何体
            var geometry = new THREE.CircleGeometry(1, 8,30 ,4)
            material= new THREE.MeshBasicMaterial( {color: 0xffff00} )//创建材质
            mesh = new THREE.Mesh(geometry, material)//创建网格

            // mesh.position.x = 3
            // mesh.position.y += 5
            // mesh.position.z -= 6
            mesh.position.set(5,5,5)

            // mesh.scale.x = 2
            // mesh.scale.y = 0.5
            // mesh.scale.z = 1

            scene.add(mesh) 
        }
        function animate() {
            stats.update()
            requestAnimationFrame(animate)
            mesh.rotation.x += 0.01
            // mesh.rotation.y += 0.02
            renderer.render(scene,camera )
        }
        var controls = {
            positionX: 0,
            positionY: 0,
            positionZ: 0,
        }
        function init() {
            initRenderer()
            initScene()
            initCamera()

            initMesh()
            var gui = new dat.GUI()
            gui.add(controls, 'positionX',-5,5).onChange(updatePostion)
            gui.add(controls, 'positionY',-5,5).onChange(updatePostion)
            gui.add(controls, 'positionZ',-5,5).onChange(updatePostion)
            function updatePostion() {
                mesh.position.set(controls.positionX,controls.positionY,controls.positionZ)
            }
            animate()
        }
    </script>
</body>
</html>