<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="WebGL-output"></div>
</body>
<script type="module">
    import { 
        Scene, 
        Group,
        Matrix4,
        Object3D,
        Vector3
    } from "https://cdn.bootcdn.net/ajax/libs/three.js/r128/three.module.min.js"
    
    //宇宙坐标系m1
    const m1 = new Matrix4
    m1.elements = [
        1,0,0,0,
        0,1,0,0,
        0,0,1,0,
        0,0,0,1,
    ]

    // 银河系坐标系m2
    const m2 = new Matrix4
    m2.elements = [
        1,0,0,0,
        0,2,0,0,
        0,0,1,0,
        1,2,3,1,
    ]

    // 太阳系坐标系m3
    const m3 = new Matrix4
    m3.elements = [
        1,0,0,0,
        0,1,0,0,
        0,0,3,0,
        4,5,6,1,
    ]
    // 太阳在银河系内的本地坐标位置p1(4,5,6)
    const p2 = new Vector3(7,8,9)

    // 创建宇宙
    const universe = new Scene
    universe.applyMatrix4(m1)

    // 创建银河系
    const galaxy = new Group
    galaxy.applyMatrix4(m2)

    // 创建太阳系
    const solar = new Group
    solar.applyMatrix4(m3)

    // 创建🌍earth
    const earth = new Object3D
    earth.position.copy(p2)

    // 将银河系添加到宇宙中
    // 将太阳系添加到银河系中
    // 将地球添加到太阳系中
    universe.add(galaxy)
    galaxy.add(solar)
    solar.add(earth)

    // 获取太阳在宇宙中的世界位置
    const p = new Vector3
    earth.getWorldPosition(p)
    console.log(p);
</script>
</html>