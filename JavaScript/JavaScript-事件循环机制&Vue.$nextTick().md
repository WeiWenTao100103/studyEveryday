# JavaScript事件循环机制&Vue.$nextTick()

## 前言

由于JavaScript的主要用途是与浏览器交互，以及操作DOM，所以为了避免复杂性，从一诞生，JavaScript就是单线程。在H5中可以创建多个线程了，但是子线程也是完全受控于主线程的。

## Event  Loop

先了解以下概念：

- 执行栈：按顺序执行

- 任务队列：存放异步任务，**异步任务要等执行栈清空后才会执行**，异步任务也分为两类

  - 宏任务队列：`setInterval()`  、  `setTimeout()` 、`AJAX`
  - 微任务队列: `new Promise()`   、  `new MutaionObserver()`   、 `async/await`

  

## JavaScript中的任务运行机制

1. 首先进入主线程，形成一个执行栈，开始执行

2. 执行过程中如果遇到异步任务，风别将其挂起，等待任务就绪

3. 

4. 如果微任务队列中有任务，执行所有的微任务

5. 异步任务执行如果有了结果，放置在任务队列中()

6. 执行栈中的同步任务执行完毕，系统自动读取任务列表，执行异步任务的结果

   



